"use strict";(self.webpackChunkdm_workshop=self.webpackChunkdm_workshop||[]).push([[265],{265:(S,v,c)=>{c.r(v),c.d(v,{CombatTokensModule:()=>l});var k=c(6895),y=c(2598),d=c(433),i=c(4556),C=c(4466);const n={Tiny:"1x1",Small:"2x2",Medium:"2x2",Large:"4x4",Huge:"6x6",Gargantuan:"8x8"},a=["#999999","#e69f00","#56b4e9","#009e73","#f0e442","#0072b2","#d55e00","#cc79a7"],w=[{image:"https://www.dndbeyond.com/avatars/thumbnails/30783/955/1000/1000/638062024584880857.png",size:Object.keys(n)[1],colour:a[2],zoom:69},{image:"https://www.dndbeyond.com/avatars/thumbnails/30783/955/1000/1000/638062024584880857.png",size:Object.keys(n)[1],colour:a[3],zoom:69},{image:"https://www.dndbeyond.com/avatars/thumbnails/30783/955/1000/1000/638062024584880857.png",size:Object.keys(n)[1],colour:a[4],zoom:69},{image:"https://www.dndbeyond.com/avatars/thumbnails/30783/955/1000/1000/638062024584880857.png",size:Object.keys(n)[1],colour:a[5],zoom:69},{image:"https://upload.wikimedia.org/wikipedia/en/1/13/Illithid_Sorcerer.png",size:Object.keys(n)[2],colour:a[6],zoom:64},{image:"https://i.pinimg.com/originals/fa/7a/a6/fa7aa6053353934a6e2bf8e147ac255f.jpg",size:Object.keys(n)[2],colour:a[7],zoom:69},{image:"https://www.dndbeyond.com/avatars/thumbnails/6290/200/1000/1000/636960516129250094.jpeg",size:Object.keys(n)[2],colour:a[0],zoom:86},{image:"https://www.dndbeyond.com/avatars/thumbnails/6290/215/1000/1000/636960517653000626.jpeg",size:Object.keys(n)[2],colour:a[0],zoom:69},{image:"https://www.dndbeyond.com/avatars/thumbnails/6288/421/1000/1000/636960342199103296.png",size:Object.keys(n)[2],colour:a[1],zoom:80},{image:"https://www.dndbeyond.com/avatars/thumbnails/6288/421/1000/1000/636960342199103296.png",size:Object.keys(n)[2],colour:a[2],zoom:80},{image:"https://www.dndbeyond.com/avatars/thumbnails/6288/421/1000/1000/636960342199103296.png",size:Object.keys(n)[2],colour:a[3],zoom:80},{image:"https://www.dndbeyond.com/avatars/thumbnails/6288/421/1000/1000/636960342199103296.png",size:Object.keys(n)[2],colour:a[4],zoom:80},{image:"https://www.gmbinder.com/images/b97QP1X.jpg",size:Object.keys(n)[3],colour:a[0],zoom:74},{image:"https://i.pinimg.com/originals/ce/48/b5/ce48b5ff66a976011a24ac8d7f722d5e.png",size:Object.keys(n)[3],colour:a[1],zoom:110},{image:"https://www.dndbeyond.com/avatars/thumbnails/30834/702/1000/1000/638063895243217798.png",size:Object.keys(n)[5],colour:a[6],zoom:69},{image:"https://cdnb.artstation.com/p/assets/images/images/023/017/689/large/miguel-regodon-harkness-pzo2102-ancient-gold-dragon-final-2.jpg",size:Object.keys(n)[5],colour:a[4],zoom:82},{image:"https://www.dndbeyond.com/avatars/thumbnails/23375/69/1000/1000/637791959730543418.jpeg",size:Object.keys(n)[4],colour:a[5],zoom:98},{image:"https://www.dndbeyond.com/avatars/thumbnails/30834/185/1000/1000/638063883093825018.png",size:Object.keys(n)[3],colour:a[3],zoom:64},{image:"https://www.dndbeyond.com/avatars/thumbnails/30834/149/1000/1000/638063882505895317.png",size:Object.keys(n)[3],colour:a[7],zoom:82},{image:"https://www.dndbeyond.com/avatars/thumbnails/30833/408/1000/1000/638063863232165584.png",size:Object.keys(n)[2],colour:a[7],zoom:82},{image:"https://www.dndbeyond.com/avatars/thumbnails/31312/871/1000/1000/638084425511165687.png",size:Object.keys(n)[2],colour:a[1],zoom:59},{image:"https://www.dndbeyond.com/avatars/thumbnails/30835/940/1000/1000/638063924522595508.png",size:Object.keys(n)[0],colour:a[2],zoom:76},{image:"https://www.dndbeyond.com/avatars/thumbnails/30835/940/1000/1000/638063924522595508.png",size:Object.keys(n)[0],colour:a[3],zoom:76},{image:"https://www.dndbeyond.com/avatars/thumbnails/30835/940/1000/1000/638063924522595508.png",size:Object.keys(n)[0],colour:a[4],zoom:76},{image:"https://www.dndbeyond.com/avatars/thumbnails/30835/940/1000/1000/638063924522595508.png",size:Object.keys(n)[0],colour:a[5],zoom:76},{image:"https://www.dndbeyond.com/avatars/thumbnails/30835/940/1000/1000/638063924522595508.png",size:Object.keys(n)[0],colour:a[6],zoom:76},{image:"https://www.dndbeyond.com/avatars/thumbnails/30835/940/1000/1000/638063924522595508.png",size:Object.keys(n)[0],colour:a[7],zoom:76},{image:"https://www.dndbeyond.com/avatars/thumbnails/30782/21/1000/1000/638061948417487055.png",size:Object.keys(n)[0],colour:a[2],zoom:64},{image:"https://www.dndbeyond.com/avatars/thumbnails/14/487/1000/1000/636364325235118776.png",size:Object.keys(n)[0],colour:a[3],zoom:69},{image:"https://www.dndbeyond.com/avatars/thumbnails/14/487/1000/1000/636364325235118776.png",size:Object.keys(n)[0],colour:a[3],zoom:69},{image:"https://www.dndbeyond.com/avatars/thumbnails/30783/784/1000/1000/638062018575789713.png",size:Object.keys(n)[0],colour:a[4],zoom:69},{image:"https://www.dndbeyond.com/avatars/thumbnails/30834/690/1000/1000/638063894965168047.png",size:Object.keys(n)[0],colour:a[5],zoom:69},{image:"https://www.dndbeyond.com/avatars/thumbnails/30834/690/1000/1000/638063894965168047.png",size:Object.keys(n)[0],colour:a[6],zoom:69},{image:"https://www.dndbeyond.com/avatars/thumbnails/30834/690/1000/1000/638063894965168047.png",size:Object.keys(n)[0],colour:a[7],zoom:69},{image:"https://www.dndbeyond.com/avatars/thumbnails/30835/934/1000/1000/638063924408565694.png",size:Object.keys(n)[0],colour:a[0],zoom:92},{image:"https://www.dndbeyond.com/avatars/thumbnails/30835/934/1000/1000/638063924408565694.png",size:Object.keys(n)[0],colour:a[1],zoom:92},{image:"https://www.dndbeyond.com/avatars/thumbnails/30835/934/1000/1000/638063924408565694.png",size:Object.keys(n)[0],colour:a[2],zoom:92},{image:"https://www.dndbeyond.com/avatars/thumbnails/30761/865/1000/1000/638061096692582271.png",size:Object.keys(n)[3],colour:a[3],zoom:69},{image:"https://www.dndbeyond.com/avatars/thumbnails/30781/604/1000/1000/638061930942710847.png",size:Object.keys(n)[3],colour:a[4],zoom:82},{image:"https://www.dndbeyond.com/avatars/thumbnails/30762/228/1000/1000/638061113870717182.png",size:Object.keys(n)[3],colour:a[5],zoom:94},{image:"https://www.dndbeyond.com/avatars/thumbnails/30762/236/1000/1000/638061114170787382.png",size:Object.keys(n)[3],colour:a[6],zoom:86},{image:"https://www.dndbeyond.com/avatars/thumbnails/30832/378/1000/1000/638063837085902470.png",size:Object.keys(n)[2],colour:a[7],zoom:69}];var e=c(8256),_=c(366);function O(s,t){if(1&s&&(e.TgZ(0,"ion-select-option",20),e._uU(1),e.qZA()),2&s){const o=t.$implicit;e.Q6J("value",o.key),e.xp6(1),e.Oqu(o.key)}}const f=function(s){return["token",s]};class g{constructor(){this.token={},this.saveTokenEvent=new e.vpe,this.debounce=100,this.sizes=n,this.onSave=()=>this.saveTokenEvent.emit(this.token)}}g.\u0275fac=function(t){return new(t||g)},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-combat-token-editor"]],inputs:{token:"token"},outputs:{saveTokenEvent:"saveTokenEvent"},decls:41,vars:20,consts:[[1,"ion-margin"],["mode","md",3,"ngSubmit"],["combatTokenEditorForm","ngForm"],["size","8"],["fill","outline",1,"token-preview"],["position","floating","for","preview"],["value"," ","readonly","true",1,"ion-hide"],[1,"ion-padding-bottom"],["mode","ios","expand","block","color","success","type","submit",3,"disabled"],["fill","outline"],["position","floating","for","image"],["placeholder","http://path.to/img.png","name","image","id","image","required","true",1,"ion-text-center",3,"ngModel","debounce","ngModelChange"],["position","floating","for","size"],["mode","ios","placeholder","Size","interface","popover","name","size","id","size","required","true",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["position","floating","for","colour"],["placeholder","#cc79a7","name","colour","id","colour","required","true",1,"ion-text-center",3,"ngModel","debounce","ngModelChange"],["lines","none"],["position","floating","for","zoom"],["mode","ios","name","zoom","id","zoom","required","true","pin","true","min","10","max","200",1,"token-zoom",3,"ngModel","ngModelChange"],[3,"value"]],template:function(t,o){if(1&t&&(e.TgZ(0,"ion-grid",0)(1,"form",1,2),e.NdJ("ngSubmit",function(){return o.onSave()}),e.TgZ(3,"ion-row")(4,"ion-col",3)(5,"ion-item",4)(6,"ion-label",5),e._uU(7," Preview "),e.qZA(),e._UZ(8,"div")(9,"ion-input",6),e.qZA()(),e.TgZ(10,"ion-col")(11,"ion-row",7)(12,"ion-col",7)(13,"ion-button",8),e._uU(14," Save "),e.qZA()()(),e.TgZ(15,"ion-row")(16,"ion-col",7)(17,"ion-item",9)(18,"ion-label",10),e._uU(19," Image "),e.qZA(),e.TgZ(20,"ion-input",11),e.NdJ("ngModelChange",function(r){return o.token.image=r}),e.qZA()()()(),e.TgZ(21,"ion-row")(22,"ion-col",7)(23,"ion-item",9)(24,"ion-label",12),e._uU(25," Size "),e.qZA(),e.TgZ(26,"ion-select",13),e.NdJ("ngModelChange",function(r){return o.token.size=r}),e.YNc(27,O,2,2,"ion-select-option",14),e.ALo(28,"keyvalue"),e.qZA()()()(),e.TgZ(29,"ion-row")(30,"ion-col",7)(31,"ion-item",9)(32,"ion-label",15),e._uU(33," Colour "),e.qZA(),e.TgZ(34,"ion-input",16),e.NdJ("ngModelChange",function(r){return o.token.colour=r}),e.qZA()()()(),e.TgZ(35,"ion-row")(36,"ion-col")(37,"ion-item",17)(38,"ion-label",18),e._uU(39," Zoom "),e.qZA(),e.TgZ(40,"ion-range",19),e.NdJ("ngModelChange",function(r){return o.token.zoom=r}),e.qZA()()()()()()()()),2&t){const m=e.MAs(2);e.xp6(8),e.Tol(e.VKq(18,f,o.token.size.toLowerCase())),e.Udp("background-image","url("+o.token.image+")")("border-color",o.token.colour)("background-size",o.token.zoom+"%"),e.xp6(5),e.Q6J("disabled",!m.form.valid),e.xp6(7),e.Q6J("ngModel",o.token.image)("debounce",o.debounce),e.xp6(6),e.Q6J("ngModel",o.token.size),e.xp6(1),e.Q6J("ngForOf",e.lcZ(28,16,o.sizes)),e.xp6(7),e.Q6J("ngModel",o.token.colour)("debounce",o.debounce),e.xp6(6),e.Q6J("ngModel",o.token.zoom)}},dependencies:[k.sg,d._Y,d.JJ,d.JL,d.Q7,d.On,d.F,i.YG,i.wI,i.jY,i.pK,i.Ie,i.Q$,i.I_,i.Nd,i.t9,i.n0,i.QI,i.j9,k.Nd],styles:[".token[_ngcontent-%COMP%]{background-color:#fff;background-size:contain;background-repeat:no-repeat;background-position:center;overflow:hidden;vertical-align:top;width:var(--size);height:var(--size);border-style:solid;border-color:#f0f;border-radius:50%;border-width:calc(var(--size) / 10)}.token.large[_ngcontent-%COMP%], .token.huge[_ngcontent-%COMP%]{border-width:calc(var(--size) / 15)}.token.gargantuan[_ngcontent-%COMP%]{border-width:calc(var(--size) / 20)}.token.tiny[_ngcontent-%COMP%]{--size: 12.5mm;grid-row:span 1;grid-column:span 1}.token.small[_ngcontent-%COMP%], .token.medium[_ngcontent-%COMP%]{--size: 25mm;grid-row:span 2;grid-column:span 2}.token.large[_ngcontent-%COMP%]{--size: 50mm;grid-row:span 4;grid-column:span 4}.token.huge[_ngcontent-%COMP%]{--size: 75mm;grid-row:span 6;grid-column:span 6}.token.gargantuan[_ngcontent-%COMP%]{--size: 100mm;grid-row:span 8;grid-column:span 8}","[_nghost-%COMP%]{display:block;width:674px}.token-preview[_ngcontent-%COMP%]   .token[_ngcontent-%COMP%]{margin-top:calc(50% - var(--size) / 2)}.token-preview[_ngcontent-%COMP%]::part(native){aspect-ratio:1/1;align-items:center}.token-zoom[_ngcontent-%COMP%]{padding-top:0}.token-zoom[_ngcontent-%COMP%]::part(pin){transform:translateZ(0) scale(1);top:14px;z-index:3}"]});var T=c(4793),M=c(8970);class p{constructor(){this.label="Export HTML",this.sheetSelector=".sheet",this.export=()=>{const t=Array.from(document.querySelectorAll(this.sheetSelector)).map(r=>r.outerHTML),m=`<!DOCTYPE html><html><head><title>${this.label}</title><style>*{box-sizing:border-box}@page{margin:0}body{margin:0;padding:0;height:100%;overflow:auto}body.A4.landscape .sheet{width:297mm;height:209mm}@media screen{body{background:#e0e0e0}.sheet{background:#fff;box-shadow:0 .5mm 2mm rgba(0,0,0,.3);margin:5mm auto}}@media print{body.A4.landscape{width:297mm}}.sheet{position:relative;--rows:16;--columns:23;--gap:5mm;margin:0;padding:4.75mm 5mm;display:grid;grid-auto-flow:row;grid-template-rows:repeat(var(--rows),calc((100% - (var(--gap) * (var(--rows) - 1)))/ var(--rows)));grid-template-columns:repeat(var(--columns),calc((100% - (var(--gap) * (var(--columns) - 1)))/ var(--columns)));gap:var(--gap);align-items:center;justify-items:center;page-break-before:always}.token{background-color:#fff;background-size:contain;background-repeat:no-repeat;background-position:center;vertical-align:top;width:var(--size);height:var(--size);border-style:solid;border-color:#f0f;border-radius:50%;border-width:calc(var(--size)/ 10)}.token.huge,.token.large{border-width:calc(var(--size)/ 15)}.token.tiny{--size:12.5mm;grid-row:span 1;grid-column:span 1}.token.medium,.token.small{--size:25mm;grid-row:span 2;grid-column:span 2}.token.large{--size:50mm;grid-row:span 4;grid-column:span 4}.token.huge{--size:75mm;grid-row:span 6;grid-column:span 6}.token.gargantuan{border-width:calc(var(--size)/ 20);--size:100mm;grid-row:span 8;grid-column:span 8}</style></head><body class="A4 landscape">${t.join("")}</body></html>`;(0,M.LR)(m,"text/html",this.label)}}}p.\u0275fac=function(t){return new(t||p)},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-html-exporter"]],inputs:{label:"label",sheetSelector:"sheetSelector"},decls:2,vars:1,consts:[["size","small",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-button",0),e.NdJ("click",function(){return o.export()}),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.Oqu(o.label))},dependencies:[i.YG],encapsulation:2});class u{constructor(){this.tokens=[]}}u.\u0275fac=function(t){return new(t||u)},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-combat-tokens-controls"]],inputs:{tokens:"tokens"},decls:4,vars:1,consts:[[1,"ion-margin-bottom"],["color","transparent"],["slot","start","label","Export Combat Tokens JSON",3,"json"],["slot","end","label","Export Combat Tokens HTML","sheetSelector",".combat-tokens-sheet"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1),e._UZ(2,"app-json-exporter",2)(3,"app-html-exporter",3),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("json",o.tokens))},dependencies:[i.Gu,i.sr,T.J,p],encapsulation:2});var P=c(4308);class z extends P.q{constructor(){super(...arguments),this.rows=16,this.columns=23,this.getSize=t=>n[t.size]}}const j=function(s){return["token",s]};function Z(s,t){if(1&s){const o=e.EpF();e.TgZ(0,"div",4),e.NdJ("click",function(){const E=e.CHM(o).$implicit,J=e.oxw(2);return e.KtG(J.deleteToken(E))}),e.qZA()}if(2&s){const o=t.$implicit;e.Tol(e.VKq(8,j,o.size.toLowerCase())),e.Udp("background-image","url("+o.image+")")("border-color",o.colour)("background-size",o.zoom+"%")}}function A(s,t){if(1&s&&(e.TgZ(0,"section",2),e.YNc(1,Z,1,10,"div",3),e.qZA()),2&s){const o=t.$implicit;e.xp6(1),e.Q6J("ngForOf",o)}}class b{constructor(t){this.combatTokensService=t,this.tokens=[],this.deleteTokenEvent=new e.vpe,this.sheets=[],this.loadSheets=()=>this.sheets=this.combatTokensService.getSheets([...this.tokens]),this.deleteToken=o=>this.deleteTokenEvent.emit(o)}ngOnChanges(t){"tokens"in t&&this.loadSheets()}}b.\u0275fac=function(t){return new(t||b)(e.Y36(z))},b.\u0275cmp=e.Xpm({type:b,selectors:[["app-combat-tokens-viewer"]],inputs:{tokens:"tokens"},outputs:{deleteTokenEvent:"deleteTokenEvent"},features:[e.TTD],decls:3,vars:1,consts:[[1,"body","A4","landscape"],["class","sheet combat-tokens-sheet",4,"ngFor","ngForOf"],[1,"sheet","combat-tokens-sheet"],[3,"class","background-image","border-color","background-size","click",4,"ngFor","ngForOf"],[3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-content")(1,"div",0),e.YNc(2,A,2,1,"section",1),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngForOf",o.sheets))},dependencies:[k.sg,i.W2],styles:["@page{margin:0}.body[_ngcontent-%COMP%]{margin:0;padding:5mm;height:100%;overflow:auto}.sheet[_ngcontent-%COMP%]{margin:0;overflow:hidden;position:relative;box-sizing:border-box;display:grid;grid-template-rows:repeat(var(--rows),calc((100% - var(--gap) * (var(--rows) - 1)) / var(--rows)));grid-template-columns:repeat(var(--columns),calc((100% - var(--gap) * (var(--columns) - 1)) / var(--columns)));gap:var(--gap);height:209.81mm;align-items:center;justify-items:center;page-break-before:always}.body.A3[_ngcontent-%COMP%]   .sheet[_ngcontent-%COMP%]{width:297mm;height:419mm}.body.A3.landscape[_ngcontent-%COMP%]   .sheet[_ngcontent-%COMP%]{width:420mm;height:296mm}.body.A4[_ngcontent-%COMP%]   .sheet[_ngcontent-%COMP%]{width:210mm;height:296mm}.body.A4.landscape[_ngcontent-%COMP%]   .sheet[_ngcontent-%COMP%]{width:297mm;height:209mm}.body.A5[_ngcontent-%COMP%]   .sheet[_ngcontent-%COMP%]{width:148mm;height:209mm}.body.A5.landscape[_ngcontent-%COMP%]   .sheet[_ngcontent-%COMP%]{width:210mm;height:147mm}.body.letter[_ngcontent-%COMP%]   .sheet[_ngcontent-%COMP%]{width:216mm;height:279mm}.body.letter.landscape[_ngcontent-%COMP%]   .sheet[_ngcontent-%COMP%]{width:280mm;height:215mm}.body.legal[_ngcontent-%COMP%]   .sheet[_ngcontent-%COMP%]{width:216mm;height:356mm}.body.legal.landscape[_ngcontent-%COMP%]   .sheet[_ngcontent-%COMP%]{width:357mm;height:215mm}.sheet.padding-10mm[_ngcontent-%COMP%]{padding:10mm}.sheet.padding-15mm[_ngcontent-%COMP%]{padding:15mm}.sheet.padding-20mm[_ngcontent-%COMP%]{padding:20mm}.sheet.padding-25mm[_ngcontent-%COMP%]{padding:25mm}@media screen{.body[_ngcontent-%COMP%]{background:#e0e0e0}.sheet[_ngcontent-%COMP%]{background:white;box-shadow:0 .5mm 2mm #0000004d;margin:5mm auto}}@media print{.body.A3.landscape[_ngcontent-%COMP%]{width:420mm}.body.A3[_ngcontent-%COMP%], .body.A4.landscape[_ngcontent-%COMP%]{width:297mm}.body.A4[_ngcontent-%COMP%], .body.A5.landscape[_ngcontent-%COMP%]{width:210mm}.body.A5[_ngcontent-%COMP%]{width:148mm}.body.letter[_ngcontent-%COMP%], .body.legal[_ngcontent-%COMP%]{width:216mm}.body.letter.landscape[_ngcontent-%COMP%]{width:280mm}.body.legal.landscape[_ngcontent-%COMP%]{width:357mm}}",".token[_ngcontent-%COMP%]{background-color:#fff;background-size:contain;background-repeat:no-repeat;background-position:center;overflow:hidden;vertical-align:top;width:var(--size);height:var(--size);border-style:solid;border-color:#f0f;border-radius:50%;border-width:calc(var(--size) / 10)}.token.large[_ngcontent-%COMP%], .token.huge[_ngcontent-%COMP%]{border-width:calc(var(--size) / 15)}.token.gargantuan[_ngcontent-%COMP%]{border-width:calc(var(--size) / 20)}.token.tiny[_ngcontent-%COMP%]{--size: 12.5mm;grid-row:span 1;grid-column:span 1}.token.small[_ngcontent-%COMP%], .token.medium[_ngcontent-%COMP%]{--size: 25mm;grid-row:span 2;grid-column:span 2}.token.large[_ngcontent-%COMP%]{--size: 50mm;grid-row:span 4;grid-column:span 4}.token.huge[_ngcontent-%COMP%]{--size: 75mm;grid-row:span 6;grid-column:span 6}.token.gargantuan[_ngcontent-%COMP%]{--size: 100mm;grid-row:span 8;grid-column:span 8}",".body[_ngcontent-%COMP%]{padding:0}.sheet[_ngcontent-%COMP%]{--rows: 16;--columns: 23;--gap: 5mm;margin:5mm;padding:4.75mm 5mm;grid-auto-flow:row}.token[_ngcontent-%COMP%]:hover{cursor:pointer;filter:saturate(0)}"]});class h{constructor(){this.tokens=w,this.token=Object.assign({},w[0]),this.storageKey="combat-tokens",this.saveToken=o=>this.setTokens([Object.assign({},o),...this.tokens]),this.deleteToken=o=>this.setTokens(this.tokens.filter(m=>m!==o)),this.setTokens=o=>{localStorage.setItem(this.storageKey,JSON.stringify(o)),this.tokens=o};const t=localStorage.getItem(this.storageKey);t&&t.length>2&&(this.tokens=JSON.parse(t))}}h.\u0275fac=function(t){return new(t||h)},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-combat-tokens"]],decls:10,vars:3,consts:[[1,"ion-padding"],["size","auto"],["label","Upload Combat Tokens JSON",3,"uploadEvent"],["value","1","color","light"],[3,"token","saveTokenEvent"],[3,"tokens"],[3,"tokens","deleteTokenEvent"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-content",0)(1,"ion-grid")(2,"ion-row")(3,"ion-col",1)(4,"app-json-uploader",2),e.NdJ("uploadEvent",function(r){return o.setTokens(r)}),e.qZA(),e._UZ(5,"ion-progress-bar",3),e.TgZ(6,"app-combat-token-editor",4),e.NdJ("saveTokenEvent",function(r){return o.saveToken(r)}),e.qZA()(),e.TgZ(7,"ion-col"),e._UZ(8,"app-combat-tokens-controls",5),e.TgZ(9,"app-combat-tokens-viewer",6),e.NdJ("deleteTokenEvent",function(r){return o.deleteToken(r)}),e.qZA()()()()()),2&t&&(e.xp6(6),e.Q6J("token",o.token),e.xp6(2),e.Q6J("tokens",o.tokens),e.xp6(1),e.Q6J("tokens",o.tokens))},dependencies:[i.wI,i.W2,i.jY,i.X7,i.Nd,_.d,g,u,b],encapsulation:2});class l{}l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({providers:[z],imports:[k.ez,y.Bz.forChild([{path:"",component:h}]),d.u5,i.Pc,C.m]})}}]);