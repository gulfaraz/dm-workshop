"use strict";(self.webpackChunkdm_workshop=self.webpackChunkdm_workshop||[]).push([[1174],{1174:(Q,C,r)=>{r.r(C),r.d(C,{CombatTokensModule:()=>c});var d=r(6895),T=r(2598),m=r(433),a=r(4556),f=r(4466);const y=JSON.parse('[{"image":"https://www.dndbeyond.com/avatars/thumbnails/30783/955/1000/1000/638062024584880857.png","size":"Small","colour":"#56b4e9","zoom":69},{"image":"https://www.dndbeyond.com/avatars/thumbnails/30783/955/1000/1000/638062024584880857.png","size":"Small","colour":"#009e73","zoom":69},{"image":"https://www.dndbeyond.com/avatars/thumbnails/30783/955/1000/1000/638062024584880857.png","size":"Small","colour":"#f0e442","zoom":69},{"image":"https://www.dndbeyond.com/avatars/thumbnails/30783/955/1000/1000/638062024584880857.png","size":"Small","colour":"#0072b2","zoom":69},{"image":"https://upload.wikimedia.org/wikipedia/en/1/13/Illithid_Sorcerer.png","size":"Medium","colour":"#d55e00","zoom":64},{"image":"https://i.pinimg.com/originals/fa/7a/a6/fa7aa6053353934a6e2bf8e147ac255f.jpg","size":"Medium","colour":"#cc79a7","zoom":69},{"image":"https://www.dndbeyond.com/avatars/thumbnails/6290/200/1000/1000/636960516129250094.jpeg","size":"Medium","colour":"#999999","zoom":86},{"image":"https://www.dndbeyond.com/avatars/thumbnails/6290/215/1000/1000/636960517653000626.jpeg","size":"Medium","colour":"#999999","zoom":69},{"image":"https://www.dndbeyond.com/avatars/thumbnails/6288/421/1000/1000/636960342199103296.png","size":"Medium","colour":"#e69f00","zoom":80},{"image":"https://www.dndbeyond.com/avatars/thumbnails/6288/421/1000/1000/636960342199103296.png","size":"Medium","colour":"#56b4e9","zoom":80},{"image":"https://www.dndbeyond.com/avatars/thumbnails/6288/421/1000/1000/636960342199103296.png","size":"Medium","colour":"#009e73","zoom":80},{"image":"https://www.dndbeyond.com/avatars/thumbnails/6288/421/1000/1000/636960342199103296.png","size":"Medium","colour":"#f0e442","zoom":80},{"image":"https://www.gmbinder.com/images/b97QP1X.jpg","size":"Large","colour":"#999999","zoom":74},{"image":"https://i.pinimg.com/originals/ce/48/b5/ce48b5ff66a976011a24ac8d7f722d5e.png","size":"Large","colour":"#e69f00","zoom":110},{"image":"https://www.dndbeyond.com/avatars/thumbnails/30834/702/1000/1000/638063895243217798.png","size":"Gargantuan","colour":"#d55e00","zoom":69},{"image":"https://cdnb.artstation.com/p/assets/images/images/023/017/689/large/miguel-regodon-harkness-pzo2102-ancient-gold-dragon-final-2.jpg","size":"Gargantuan","colour":"#f0e442","zoom":82},{"image":"https://www.dndbeyond.com/avatars/thumbnails/23375/69/1000/1000/637791959730543418.jpeg","size":"Huge","colour":"#0072b2","zoom":98},{"image":"https://www.dndbeyond.com/avatars/thumbnails/30834/185/1000/1000/638063883093825018.png","size":"Large","colour":"#009e73","zoom":64},{"image":"https://www.dndbeyond.com/avatars/thumbnails/30834/149/1000/1000/638063882505895317.png","size":"Large","colour":"#cc79a7","zoom":82},{"image":"https://www.dndbeyond.com/avatars/thumbnails/30833/408/1000/1000/638063863232165584.png","size":"Medium","colour":"#cc79a7","zoom":82},{"image":"https://www.dndbeyond.com/avatars/thumbnails/31312/871/1000/1000/638084425511165687.png","size":"Medium","colour":"#e69f00","zoom":59},{"image":"https://www.dndbeyond.com/avatars/thumbnails/30835/940/1000/1000/638063924522595508.png","size":"Tiny","colour":"#56b4e9","zoom":76},{"image":"https://www.dndbeyond.com/avatars/thumbnails/30835/940/1000/1000/638063924522595508.png","size":"Tiny","colour":"#009e73","zoom":76},{"image":"https://www.dndbeyond.com/avatars/thumbnails/30835/940/1000/1000/638063924522595508.png","size":"Tiny","colour":"#f0e442","zoom":76},{"image":"https://www.dndbeyond.com/avatars/thumbnails/30835/940/1000/1000/638063924522595508.png","size":"Tiny","colour":"#0072b2","zoom":76},{"image":"https://www.dndbeyond.com/avatars/thumbnails/30835/940/1000/1000/638063924522595508.png","size":"Tiny","colour":"#d55e00","zoom":76},{"image":"https://www.dndbeyond.com/avatars/thumbnails/30835/940/1000/1000/638063924522595508.png","size":"Tiny","colour":"#cc79a7","zoom":76},{"image":"https://www.dndbeyond.com/avatars/thumbnails/30782/21/1000/1000/638061948417487055.png","size":"Tiny","colour":"#56b4e9","zoom":64},{"image":"https://www.dndbeyond.com/avatars/thumbnails/14/487/1000/1000/636364325235118776.png","size":"Tiny","colour":"#009e73","zoom":69},{"image":"https://www.dndbeyond.com/avatars/thumbnails/14/487/1000/1000/636364325235118776.png","size":"Tiny","colour":"#009e73","zoom":69},{"image":"https://www.dndbeyond.com/avatars/thumbnails/30783/784/1000/1000/638062018575789713.png","size":"Tiny","colour":"#f0e442","zoom":69},{"image":"https://www.dndbeyond.com/avatars/thumbnails/30834/690/1000/1000/638063894965168047.png","size":"Tiny","colour":"#0072b2","zoom":69},{"image":"https://www.dndbeyond.com/avatars/thumbnails/30834/690/1000/1000/638063894965168047.png","size":"Tiny","colour":"#d55e00","zoom":69},{"image":"https://www.dndbeyond.com/avatars/thumbnails/30834/690/1000/1000/638063894965168047.png","size":"Tiny","colour":"#cc79a7","zoom":69},{"image":"https://www.dndbeyond.com/avatars/thumbnails/30835/934/1000/1000/638063924408565694.png","size":"Tiny","colour":"#999999","zoom":92},{"image":"https://www.dndbeyond.com/avatars/thumbnails/30835/934/1000/1000/638063924408565694.png","size":"Tiny","colour":"#e69f00","zoom":92},{"image":"https://www.dndbeyond.com/avatars/thumbnails/30835/934/1000/1000/638063924408565694.png","size":"Tiny","colour":"#56b4e9","zoom":92},{"image":"https://www.dndbeyond.com/avatars/thumbnails/30761/865/1000/1000/638061096692582271.png","size":"Large","colour":"#009e73","zoom":69},{"image":"https://www.dndbeyond.com/avatars/thumbnails/30781/604/1000/1000/638061930942710847.png","size":"Large","colour":"#f0e442","zoom":82},{"image":"https://www.dndbeyond.com/avatars/thumbnails/30762/228/1000/1000/638061113870717182.png","size":"Large","colour":"#0072b2","zoom":94},{"image":"https://www.dndbeyond.com/avatars/thumbnails/30762/236/1000/1000/638061114170787382.png","size":"Large","colour":"#d55e00","zoom":86},{"image":"https://www.dndbeyond.com/avatars/thumbnails/30832/378/1000/1000/638063837085902470.png","size":"Medium","colour":"#cc79a7","zoom":69}]'),k={Diverse:Array.from(r.t(y,2))},O=k;var e=r(8256),P=r(6211);const w={Tiny:"1x1",Small:"2x2",Medium:"2x2",Large:"4x4",Huge:"6x6",Gargantuan:"8x8"};var Z=r(2364);function S(t,n){if(1&t&&(e.TgZ(0,"ion-select-option",20),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.key),e.xp6(1),e.Oqu(o.key)}}const A=function(t){return["token",t]};class l{constructor(){this.token={},this.saveTokenEvent=new e.vpe,this.debounce=Z.Z.debounce,this.sizes=w,this.onSave=()=>this.saveTokenEvent.emit(this.token)}}l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-combat-token-editor"]],inputs:{token:"token"},outputs:{saveTokenEvent:"saveTokenEvent"},decls:41,vars:20,consts:[[1,"ion-margin"],["mode","md",3,"ngSubmit"],["combatTokenEditorForm","ngForm"],["size","8"],["fill","outline",1,"token-preview"],["position","floating","for","preview"],["value"," ","readonly","true",1,"ion-hide"],[1,"ion-padding-bottom"],["mode","ios","expand","block","color","success","type","submit",3,"disabled"],["fill","outline"],["position","floating","for","image"],["placeholder","http://path.to/img.png","name","image","id","image","required","true",1,"ion-text-center",3,"ngModel","debounce","ngModelChange"],["position","floating","for","size"],["mode","ios","placeholder","Size","interface","popover","name","size","id","size","required","true",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["position","floating","for","colour"],["placeholder","#cc79a7","name","colour","id","colour","required","true",1,"ion-text-center",3,"ngModel","debounce","ngModelChange"],["lines","none"],["position","floating","for","zoom"],["mode","ios","name","zoom","id","zoom","required","true","pin","true","min","10","max","200",1,"token-zoom",3,"ngModel","ngModelChange"],[3,"value"]],template:function(n,o){if(1&n&&(e.TgZ(0,"ion-grid",0)(1,"form",1,2),e.NdJ("ngSubmit",function(){return o.onSave()}),e.TgZ(3,"ion-row")(4,"ion-col",3)(5,"ion-item",4)(6,"ion-label",5),e._uU(7," Preview "),e.qZA(),e._UZ(8,"div")(9,"ion-input",6),e.qZA()(),e.TgZ(10,"ion-col")(11,"ion-row",7)(12,"ion-col",7)(13,"ion-button",8),e._uU(14," Save "),e.qZA()()(),e.TgZ(15,"ion-row")(16,"ion-col",7)(17,"ion-item",9)(18,"ion-label",10),e._uU(19," Image "),e.qZA(),e.TgZ(20,"ion-input",11),e.NdJ("ngModelChange",function(i){return o.token.image=i}),e.qZA()()()(),e.TgZ(21,"ion-row")(22,"ion-col",7)(23,"ion-item",9)(24,"ion-label",12),e._uU(25," Size "),e.qZA(),e.TgZ(26,"ion-select",13),e.NdJ("ngModelChange",function(i){return o.token.size=i}),e.YNc(27,S,2,2,"ion-select-option",14),e.ALo(28,"keyvalue"),e.qZA()()()(),e.TgZ(29,"ion-row")(30,"ion-col",7)(31,"ion-item",9)(32,"ion-label",15),e._uU(33," Colour "),e.qZA(),e.TgZ(34,"ion-input",16),e.NdJ("ngModelChange",function(i){return o.token.colour=i}),e.qZA()()()(),e.TgZ(35,"ion-row")(36,"ion-col")(37,"ion-item",17)(38,"ion-label",18),e._uU(39," Zoom "),e.qZA(),e.TgZ(40,"ion-range",19),e.NdJ("ngModelChange",function(i){return o.token.zoom=i}),e.qZA()()()()()()()()),2&n){const s=e.MAs(2);e.xp6(8),e.Tol(e.VKq(18,A,o.token.size.toLowerCase())),e.Udp("background-image","url("+o.token.image+")")("border-color",o.token.colour)("background-size",o.token.zoom+"%"),e.xp6(5),e.Q6J("disabled",!s.form.valid),e.xp6(7),e.Q6J("ngModel",o.token.image)("debounce",o.debounce),e.xp6(6),e.Q6J("ngModel",o.token.size),e.xp6(1),e.Q6J("ngForOf",e.lcZ(28,16,o.sizes)),e.xp6(7),e.Q6J("ngModel",o.token.colour)("debounce",o.debounce),e.xp6(6),e.Q6J("ngModel",o.token.zoom)}},dependencies:[d.sg,m._Y,m.JJ,m.JL,m.Q7,m.On,m.F,a.YG,a.wI,a.jY,a.pK,a.Ie,a.Q$,a.I_,a.Nd,a.t9,a.n0,a.QI,a.j9,d.Nd],styles:[".token[_ngcontent-%COMP%]{background-color:#fff;background-size:contain;background-repeat:no-repeat;background-position:center;overflow:hidden;vertical-align:top;width:var(--size);height:var(--size);border-style:solid;border-color:#f0f;border-radius:50%;border-width:calc(var(--size) / 10)}.token.large[_ngcontent-%COMP%], .token.huge[_ngcontent-%COMP%]{border-width:calc(var(--size) / 15)}.token.gargantuan[_ngcontent-%COMP%]{border-width:calc(var(--size) / 20)}.token.tiny[_ngcontent-%COMP%]{--size: 12.5mm;grid-row:span 1;grid-column:span 1}.token.small[_ngcontent-%COMP%], .token.medium[_ngcontent-%COMP%]{--size: 25mm;grid-row:span 2;grid-column:span 2}.token.large[_ngcontent-%COMP%]{--size: 50mm;grid-row:span 4;grid-column:span 4}.token.huge[_ngcontent-%COMP%]{--size: 75mm;grid-row:span 6;grid-column:span 6}.token.gargantuan[_ngcontent-%COMP%]{--size: 100mm;grid-row:span 8;grid-column:span 8}","[_nghost-%COMP%]{display:block;width:674px}.token-preview[_ngcontent-%COMP%]   .token[_ngcontent-%COMP%]{margin-top:calc(50% - var(--size) / 2)}.token-preview[_ngcontent-%COMP%]::part(native){aspect-ratio:1/1;align-items:center}.token-zoom[_ngcontent-%COMP%]{padding-top:0}.token-zoom[_ngcontent-%COMP%]::part(pin){transform:translateZ(0) scale(1);top:14px;z-index:3}"]});var E=r(4793),x=r(8970);class g{constructor(){this.label="Export HTML",this.sheetSelector=".sheet",this.export=()=>{const n=Array.from(document.querySelectorAll(this.sheetSelector)).map(i=>i.outerHTML),s=`<!DOCTYPE html><html><head><title>${this.label}</title><style>*{box-sizing:border-box}@page{margin:0}body{margin:0;padding:0;height:100%;overflow:auto}body.A4.landscape .sheet{width:297mm;height:209mm}@media screen{body{background:#e0e0e0}.sheet{background:#fff;box-shadow:0 .5mm 2mm rgba(0,0,0,.3);margin:5mm auto}}@media print{body.A4.landscape{width:297mm}}.sheet{position:relative;--rows:16;--columns:23;--gap:5mm;margin:0;padding:4.75mm 5mm;display:grid;grid-auto-flow:row;grid-template-rows:repeat(var(--rows),calc((100% - (var(--gap) * (var(--rows) - 1)))/ var(--rows)));grid-template-columns:repeat(var(--columns),calc((100% - (var(--gap) * (var(--columns) - 1)))/ var(--columns)));gap:var(--gap);align-items:center;justify-items:center;page-break-before:always}.token{background-color:#fff;background-size:contain;background-repeat:no-repeat;background-position:center;vertical-align:top;width:var(--size);height:var(--size);border-style:solid;border-color:#f0f;border-radius:50%;border-width:calc(var(--size)/ 10)}.token.huge,.token.large{border-width:calc(var(--size)/ 15)}.token.tiny{--size:12.5mm;grid-row:span 1;grid-column:span 1}.token.medium,.token.small{--size:25mm;grid-row:span 2;grid-column:span 2}.token.large{--size:50mm;grid-row:span 4;grid-column:span 4}.token.huge{--size:75mm;grid-row:span 6;grid-column:span 6}.token.gargantuan{border-width:calc(var(--size)/ 20);--size:100mm;grid-row:span 8;grid-column:span 8}</style></head><body class="A4 landscape">${n.join("")}</body></html>`;(0,x.LR)(s,"text/html",this.label)}}}g.\u0275fac=function(n){return new(n||g)},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-html-exporter"]],inputs:{label:"label",sheetSelector:"sheetSelector"},decls:4,vars:1,consts:[["size","small",3,"click"],["slot","start","name","download-outline"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-button",0),e.NdJ("click",function(){return o.export()}),e._UZ(1,"ion-icon",1),e.TgZ(2,"ion-label"),e._uU(3),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(o.label))},dependencies:[a.YG,a.gu,a.Q$],encapsulation:2});class p{constructor(){this.tokens=[]}}p.\u0275fac=function(n){return new(n||p)},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-combat-tokens-controls"]],inputs:{tokens:"tokens"},decls:4,vars:1,consts:[[1,"ion-margin-bottom"],["color","transparent"],["slot","start","label","Export Combat Tokens JSON",3,"json"],["slot","end","label","Export Combat Tokens HTML","sheetSelector",".combat-tokens-sheet"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1),e._UZ(2,"app-json-exporter",2)(3,"app-html-exporter",3),e.qZA()()),2&n&&(e.xp6(2),e.Q6J("json",o.tokens))},dependencies:[a.Gu,a.sr,E.J,g],encapsulation:2});var J=r(4308);class z extends J.q{constructor(){super(...arguments),this.rows=16,this.columns=23,this.getSize=n=>w[n.size]}}const N=function(t){return["token",t]};function j(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",4),e.NdJ("click",function(){const _=e.CHM(o).$implicit,v=e.oxw(2);return e.KtG(v.deleteToken(_))}),e.qZA()}if(2&t){const o=n.$implicit;e.Tol(e.VKq(8,N,o.size.toLowerCase())),e.Udp("background-image","url("+o.image+")")("border-color",o.colour)("background-size",o.zoom+"%")}}function F(t,n){if(1&t&&(e.TgZ(0,"section",2),e.YNc(1,j,1,10,"div",3),e.qZA()),2&t){const o=n.$implicit;e.xp6(1),e.Q6J("ngForOf",o)}}class u{constructor(n){this.combatTokensService=n,this.tokens=[],this.deleteTokenEvent=new e.vpe,this.sheets=[],this.loadSheets=()=>this.sheets=this.combatTokensService.getSheets([...this.tokens]),this.deleteToken=o=>this.deleteTokenEvent.emit(o)}ngOnChanges(n){"tokens"in n&&this.loadSheets()}}function q(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"ion-col")(1,"ion-button",2),e.NdJ("click",function(){const _=e.CHM(o).$implicit,v=e.oxw();return e.KtG(v.loadTokenSet(_))}),e._uU(2),e.qZA()()}if(2&t){const o=n.$implicit;e.xp6(2),e.Oqu(o)}}u.\u0275fac=function(n){return new(n||u)(e.Y36(z))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-combat-tokens-viewer"]],inputs:{tokens:"tokens"},outputs:{deleteTokenEvent:"deleteTokenEvent"},features:[e.TTD],decls:3,vars:1,consts:[[1,"body","A4","landscape"],["class","sheet combat-tokens-sheet",4,"ngFor","ngForOf"],[1,"sheet","combat-tokens-sheet"],[3,"class","background-image","border-color","background-size","click",4,"ngFor","ngForOf"],[3,"click"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-content")(1,"div",0),e.YNc(2,F,2,1,"section",1),e.qZA()()),2&n&&(e.xp6(2),e.Q6J("ngForOf",o.sheets))},dependencies:[d.sg,a.W2],styles:["@page{margin:0}.body[_ngcontent-%COMP%]{margin:0;padding:5mm;height:100%;overflow:auto}.sheet[_ngcontent-%COMP%]{margin:0;overflow:hidden;position:relative;box-sizing:border-box;display:grid;grid-template-rows:repeat(var(--rows),calc((100% - var(--gap) * (var(--rows) - 1)) / var(--rows)));grid-template-columns:repeat(var(--columns),calc((100% - var(--gap) * (var(--columns) - 1)) / var(--columns)));gap:var(--gap);height:209.81mm;align-items:center;justify-items:center;page-break-before:always}.body.A3[_ngcontent-%COMP%]   .sheet[_ngcontent-%COMP%]{width:297mm;height:419mm}.body.A3.landscape[_ngcontent-%COMP%]   .sheet[_ngcontent-%COMP%]{width:420mm;height:296mm}.body.A4[_ngcontent-%COMP%]   .sheet[_ngcontent-%COMP%]{width:210mm;height:296mm}.body.A4.landscape[_ngcontent-%COMP%]   .sheet[_ngcontent-%COMP%]{width:297mm;height:209mm}.body.A5[_ngcontent-%COMP%]   .sheet[_ngcontent-%COMP%]{width:148mm;height:209mm}.body.A5.landscape[_ngcontent-%COMP%]   .sheet[_ngcontent-%COMP%]{width:210mm;height:147mm}.body.letter[_ngcontent-%COMP%]   .sheet[_ngcontent-%COMP%]{width:216mm;height:279mm}.body.letter.landscape[_ngcontent-%COMP%]   .sheet[_ngcontent-%COMP%]{width:280mm;height:215mm}.body.legal[_ngcontent-%COMP%]   .sheet[_ngcontent-%COMP%]{width:216mm;height:356mm}.body.legal.landscape[_ngcontent-%COMP%]   .sheet[_ngcontent-%COMP%]{width:357mm;height:215mm}.sheet.padding-10mm[_ngcontent-%COMP%]{padding:10mm}.sheet.padding-15mm[_ngcontent-%COMP%]{padding:15mm}.sheet.padding-20mm[_ngcontent-%COMP%]{padding:20mm}.sheet.padding-25mm[_ngcontent-%COMP%]{padding:25mm}@media screen{.body[_ngcontent-%COMP%]{background:#e0e0e0}.sheet[_ngcontent-%COMP%]{background:white;box-shadow:0 .5mm 2mm #0000004d;margin:5mm auto}}@media print{.body.A3.landscape[_ngcontent-%COMP%]{width:420mm}.body.A3[_ngcontent-%COMP%], .body.A4.landscape[_ngcontent-%COMP%]{width:297mm}.body.A4[_ngcontent-%COMP%], .body.A5.landscape[_ngcontent-%COMP%]{width:210mm}.body.A5[_ngcontent-%COMP%]{width:148mm}.body.letter[_ngcontent-%COMP%], .body.legal[_ngcontent-%COMP%]{width:216mm}.body.letter.landscape[_ngcontent-%COMP%]{width:280mm}.body.legal.landscape[_ngcontent-%COMP%]{width:357mm}}",".token[_ngcontent-%COMP%]{background-color:#fff;background-size:contain;background-repeat:no-repeat;background-position:center;overflow:hidden;vertical-align:top;width:var(--size);height:var(--size);border-style:solid;border-color:#f0f;border-radius:50%;border-width:calc(var(--size) / 10)}.token.large[_ngcontent-%COMP%], .token.huge[_ngcontent-%COMP%]{border-width:calc(var(--size) / 15)}.token.gargantuan[_ngcontent-%COMP%]{border-width:calc(var(--size) / 20)}.token.tiny[_ngcontent-%COMP%]{--size: 12.5mm;grid-row:span 1;grid-column:span 1}.token.small[_ngcontent-%COMP%], .token.medium[_ngcontent-%COMP%]{--size: 25mm;grid-row:span 2;grid-column:span 2}.token.large[_ngcontent-%COMP%]{--size: 50mm;grid-row:span 4;grid-column:span 4}.token.huge[_ngcontent-%COMP%]{--size: 75mm;grid-row:span 6;grid-column:span 6}.token.gargantuan[_ngcontent-%COMP%]{--size: 100mm;grid-row:span 8;grid-column:span 8}",".body[_ngcontent-%COMP%]{padding:0}.sheet[_ngcontent-%COMP%]{--rows: 16;--columns: 23;--gap: 5mm;margin:5mm;padding:4.75mm 5mm;grid-auto-flow:row}.token[_ngcontent-%COMP%]:hover{cursor:pointer;filter:saturate(0)}"]});class h{constructor(){this.loadTokenSetEvent=new e.vpe,this.tokenSetNames=Object.keys(O),this.loadTokenSet=(n="")=>this.loadTokenSetEvent.emit(n)}}h.\u0275fac=function(n){return new(n||h)},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-combat-token-sets"]],outputs:{loadTokenSetEvent:"loadTokenSetEvent"},decls:7,vars:1,consts:[["expand","block","fill","outline","color","danger",3,"click"],[4,"ngFor","ngForOf"],["expand","block","fill","outline",3,"click"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col")(3,"ion-button",0),e.NdJ("click",function(){return o.loadTokenSet()}),e._uU(4,"Clear"),e.qZA()()(),e.TgZ(5,"ion-row"),e.YNc(6,q,3,1,"ion-col",1),e.qZA()()),2&n&&(e.xp6(6),e.Q6J("ngForOf",o.tokenSetNames))},dependencies:[d.sg,a.YG,a.wI,a.jY,a.Nd],encapsulation:2});class b{constructor(){this.tokens=k.Diverse,this.token=Object.assign({},this.tokens[0]),this.storageKey="combat-tokens",this.saveToken=o=>this.setTokens([Object.assign({},o),...this.tokens]),this.deleteToken=o=>this.setTokens(this.tokens.filter(s=>s!==o)),this.setTokens=o=>{localStorage.setItem(this.storageKey,JSON.stringify(o)),this.tokens=o},this.loadTokenSet=o=>this.setTokens(o?k[o]:[]);const n=localStorage.getItem(this.storageKey);n&&n.length>2&&(this.tokens=JSON.parse(n))}}b.\u0275fac=function(n){return new(n||b)},b.\u0275cmp=e.Xpm({type:b,selectors:[["app-combat-tokens"]],decls:12,vars:3,consts:[[1,"ion-padding"],["label","Import Combat Tokens JSON","expand","block","fill","outline","size","large","classes","ion-margin",3,"importEvent"],["value","1","color","light"],[3,"token","saveTokenEvent"],[3,"loadTokenSetEvent"],[3,"tokens"],[3,"tokens","deleteTokenEvent"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-content",0)(1,"ion-grid")(2,"ion-row")(3,"ion-col")(4,"app-json-importer",1),e.NdJ("importEvent",function(i){return o.setTokens(i)}),e.qZA(),e._UZ(5,"ion-progress-bar",2),e.TgZ(6,"app-combat-token-editor",3),e.NdJ("saveTokenEvent",function(i){return o.saveToken(i)}),e.qZA(),e._UZ(7,"ion-progress-bar",2),e.TgZ(8,"app-combat-token-sets",4),e.NdJ("loadTokenSetEvent",function(i){return o.loadTokenSet(i)}),e.qZA()(),e.TgZ(9,"ion-col"),e._UZ(10,"app-combat-tokens-controls",5),e.TgZ(11,"app-combat-tokens-viewer",6),e.NdJ("deleteTokenEvent",function(i){return o.deleteToken(i)}),e.qZA()()()()()),2&n&&(e.xp6(6),e.Q6J("token",o.token),e.xp6(4),e.Q6J("tokens",o.tokens),e.xp6(1),e.Q6J("tokens",o.tokens))},dependencies:[a.wI,a.W2,a.jY,a.X7,a.Nd,P._,l,p,u,h],encapsulation:2});class c{}c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({providers:[z],imports:[d.ez,T.Bz.forChild([{path:"",component:b}]),m.u5,a.Pc,f.m]})}}]);